
@{
    Layout = "_LayoutHome";
}

@section Css {
    <style>
        body {
            background-repeat: round;
            background-image: url(/images/sailor_dhan_01_n.jpg);
        }

        .login-container {
            max-width: 400px;
            margin: 40px auto;
            padding: 20px;
            background-color: #f9f9f9;
            border: 2px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .login-logo {
           /*  width: 100px; */
            height: 100px;
            margin: 20px auto;
            border-radius: 50%;
            background-color: #fff;
            padding: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .login-form {
            padding: 20px;
            display: none;
        }

        .input-group {
            margin-bottom: 50px;
        }

        .input-group-append {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 0 10px 10px 0;
            padding: 1px;
        }

        .fas {
            color: #666;
        }

        .btn-signin {
            width: 100%;
            background-color: #337ab7;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

            .btn-signin:hover {
                background-color: #23527c;
            }

            .btn-signin:disabled {
                background-color: #ccc;
                cursor: not-allowed;
            }


        /* Boat icon */
        .boat-icon {
            width: 24px;
            height: 24px;
            background-size: cover;
            display: inline-block;
            vertical-align: middle;
            margin-right: 5px; /* Adjust spacing between icon and text */
        }

        /* Button style */
        .btn-explore {
            background-color: #28a745; /* Green color */
            color: #fff; /* White text color */
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

            .btn-explore:hover {
                background-color: #218838; /* Darker shade of green on hover */
            }
    </style>
}

<div class="login-container">
    <div class="login-logo">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 205.24 115.79" style="height: 76px;">
            <defs></defs>
            <path class="cls-1" d="M35.1 95.53a14.7 14.7 0 01-4.32 10.85 16.43 16.43 0 01-11.88 4.47A16.54 16.54 0 017 106.42a14.61 14.61 0 01-4.6-10.89V86.2h11.74v15.91c0 4 1.58 6 4.76 6s4.54-2 4.54-6v-11.5c0-4.85-1.37-8.58-4.1-11.3L7 67.15c-3.08-3-4.62-7.51-4.62-13.35v-7.2a14.65 14.65 0 014.5-10.93q4.46-4.41 11.72-4.41t11.74 4.41a14.68 14.68 0 014.47 10.93v9.32H23.15V40c0-4-1.52-6-4.55-6s-4.46 2-4.46 6v10.33c0 4.86 1.34 8.58 4 11.23l12.34 12.16c3.1 3.1 4.62 7.55 4.62 13.42zM78 110.1H62.47V108a12.48 12.48 0 01-8.47 2.85c-8.32 0-12.46-4.57-12.46-13.78V79.72c0-9.64 5.76-14.5 17.29-14.5h3.61V40c0-4-1.47-6-4.41-6s-4.33 2-4.33 6v15.92H42V46.6q0-7 4.36-11.15c2.92-2.76 6.81-4.19 11.7-4.19s8.84 1.43 11.74 4.19 4.34 6.49 4.34 11.15v60.79zm-15.48-4.82V68H59c-3.81 0-5.72 2-5.72 5.92v28.21c0 3.79 1.35 5.72 4 5.72a7.31 7.31 0 005.19-2.57zM99.86 110.1H80.63l3.78-2.71V34.72L80.63 32h15.5v75.4zM107 107.39V5h15.4l-3.73 2.7v99.74l3.73 2.71h-19.24zM161.7 95.53a14.39 14.39 0 01-4.8 10.89 18.89 18.89 0 01-24.31 0 14.25 14.25 0 01-4.84-10.89V46.6a14.11 14.11 0 014.84-10.88 18.79 18.79 0 0124.31 0 14.24 14.24 0 014.8 10.88zm-11.7 6.58V40c0-4-1.75-6-5.22-6s-5.27 2-5.27 6v62.1c0 4 1.75 6 5.27 6s5.22-1.95 5.22-5.99zM202.4 55.92h-11.74V40c0-3.84-1.19-5.75-3.59-5.75-1.56 0-3.13.86-4.68 2.56v70.57l3.8 2.71H166.9l3.82-2.71V34.72L166.9 32h15.49v2.14a12.25 12.25 0 018.27-2.87q11.75 0 11.74 13.78z"></path>
            <path class="cls-2" d="M96.13 23.86h-15.5l3.78-2.68L96.13 5.84v18z" fill="#d02128"></path>

        </svg>
    </div>
    <div class="login-form">
        <h2 class="text-center">SAILOR ERP</h2>
        <p class="login-box-msg">Sign in to start your session</p>
        <form id="login-form">
            <div class="input-group mb-3">
                <input id="user_name" name="user_name" type="text" class="form-control" placeholder="User ID">
                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-envelope" style="font-size: 16px;"></span>
                    </div>
                </div>
            </div>
            <div class="input-group mb-3">
                <input id="password" name="password" type="password" class="form-control" placeholder="Password">
                <div class="input-group-append">
                    <div class="input-group-text">
                        <span class="fas fa-lock" style="font-size: 16px;"></span>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-8">
                    <div class="icheck-primary">
                        <input type="checkbox" id="remember">
                        <label for="remember">
                            Remember Me
                        </label>
                    </div>
                </div>


                <!-- /.col -->
            </div>
            <div class="row">
                <div class="col-12">
                    <button type="submit" id="btn-signin" class="btn btn-success btn-block"><i class="fa-solid fa-sailboat"></i> <b><i style="font-size: 16px">Explore</i></b></button>
                </div>
            </div>


        </form>
    </div>
    <button type="button" id="show-login" class="btn btn-primary btn-block"><i class="fa-solid fa-right-to-bracket"></i> <b><i style="font-size: 16px">Sign In</i></b></button>
</div>

@section scripts {
    <script src="~/lib/customjs/main.js"></script>


    <script>


        function test() {

        }

        $(document).ready(function () {
            
            $("#show-login").on('click', function () {
                $(".login-form").slideDown();
                $(this).hide();
            });

            $("#btn-signin").on('click', function (e) {
                $(this).addClass("disabled");
                  showLoader("Loading..........");

                e.preventDefault();

                var data = $("#login-form").serialize();

                axios.post('/account/login', data)
                    .then(function (response) {
                        hideLoader();

                        if (response.data.statusCode == 200) {
                            localStorage.setItem("token", response.data.accessToken);
                            window.location.href = "/dashboard/index";
                        } 
                        else if (response.data.statusCode == 401) {
                            Swal.fire({
                                icon: 'error',
                                title: 'Invalid Credentials',
                                text: 'Invalid username or password!'
                            });
                        } 
                        else {
                            Swal.fire({
                                icon: 'error',
                                title: 'Oops...',
                                text: response.data.statusResult // Display the error message from the response
                            });
                        }

                        
                        // if (response.data.statusCode == 200) {
                        //     //M.toast({ html: 'Login successful!', classes: 'green darken-3' });
                        //     localStorage.setItem("token", response.data.accessToken);
                        //     window.location.href = "/dashboard/index";

                        // }
                        // else {

                        //     //M.toast({ html: response.data.statusCode });
                        //     Swal.fire({
                        //         icon: 'error',
                        //         title: 'Oops...',
                        //        // text: 'Username or password is invalid!'
                        //         text: response.data.statusResult
                        //     });

                        // }

                    })
                    .catch(function () {
                        //M.toast({ html: 'Invalid username or password !!' });
                       
                       // $("#btn-signin").removeClass("disabled");
                       
                        
                    });
            });
        });
        // M.AutoInit();

        //  loadProgressBar();





    </script>
}
